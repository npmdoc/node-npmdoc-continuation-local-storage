<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/othiym23/node-continuation-local-storage#readme">continuation-local-storage (v3.2.0)</a>
</h1>
<h4>userland implementation of https://github.com/joyent/node/issues/5243</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.continuation-local-storage">module continuation-local-storage</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.continuation-local-storage.createNamespace">
            function <span class="apidocSignatureSpan">continuation-local-storage.</span>createNamespace
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.continuation-local-storage.destroyNamespace">
            function <span class="apidocSignatureSpan">continuation-local-storage.</span>destroyNamespace
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.continuation-local-storage.getNamespace">
            function <span class="apidocSignatureSpan">continuation-local-storage.</span>getNamespace
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.continuation-local-storage.reset">
            function <span class="apidocSignatureSpan">continuation-local-storage.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.continuation-local-storage" id="apidoc.module.continuation-local-storage">module continuation-local-storage</a></h1>


    <h2>
        <a href="#apidoc.element.continuation-local-storage.createNamespace" id="apidoc.element.continuation-local-storage.createNamespace">
        function <span class="apidocSignatureSpan">continuation-local-storage.</span>createNamespace
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function create(name) {
  assert.ok(name, "namespace must be given a name!");

  var namespace = new Namespace(name);
  namespace.id = process.addAsyncListener({
    create : function () { return namespace.active; },
    before : function (context, storage) { if (storage) namespace.enter(storage); },
    after  : function (context, storage) { if (storage) namespace.exit(storage); },
    error  : function (storage) { if (storage) namespace.exit(storage); }
  });

  process.namespaces[name] = namespace;
  return namespace;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  setTimeout(function() {
    // runs with the default context, because nested contexts have ended
    console.log(writer.get('value')); // prints 0
  }, 1000);
}
```

## cls.<span class="apidocCodeKeywordSpan">createNamespace</span>(name)

* return: {Namespace}

Each application wanting to use continuation-local values should create its own
namespace. Reading from (or, more significantly, writing to) namespaces that
don't belong to you is a faux pas.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.continuation-local-storage.destroyNamespace" id="apidoc.element.continuation-local-storage.destroyNamespace">
        function <span class="apidocSignatureSpan">continuation-local-storage.</span>destroyNamespace
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function destroy(name) {
  var namespace = get(name);

  assert.ok(namespace,    "can't delete nonexistent namespace!");
  assert.ok(namespace.id, "don't assign to process.namespaces directly!");

  process.removeAsyncListener(namespace.id);
  process.namespaces[name] = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## cls.getNamespace(name)

* return: {Namespace}

Look up an existing namespace.

## cls.<span class="apidocCodeKeywordSpan">destroyNamespace</span>(name)

Dispose of an existing namespace. WARNING: be sure to dispose of any references
to destroyed namespaces in your old code, as contexts associated with them will
no longer be propagated.

## cls.reset()
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.continuation-local-storage.getNamespace" id="apidoc.element.continuation-local-storage.getNamespace">
        function <span class="apidocSignatureSpan">continuation-local-storage.</span>getNamespace
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function get(name) {
  return process.namespaces[name];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

* return: {Namespace}

Each application wanting to use continuation-local values should create its own
namespace. Reading from (or, more significantly, writing to) namespaces that
don't belong to you is a faux pas.

## cls.<span class="apidocCodeKeywordSpan">getNamespace</span>(name)

* return: {Namespace}

Look up an existing namespace.

## cls.destroyNamespace(name)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.continuation-local-storage.reset" id="apidoc.element.continuation-local-storage.reset">
        function <span class="apidocSignatureSpan">continuation-local-storage.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reset() {
  // must unregister async listeners
  if (process.namespaces) {
    Object.keys(process.namespaces).forEach(function (name) {
      destroy(name);
    });
  }
  process.namespaces = Object.create(null);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## cls.destroyNamespace(name)

Dispose of an existing namespace. WARNING: be sure to dispose of any references
to destroyed namespaces in your old code, as contexts associated with them will
no longer be propagated.

## cls.<span class="apidocCodeKeywordSpan">reset</span>()

Completely reset all continuation-local storage namespaces. WARNING: while this
will stop the propagation of values in any existing namespaces, if there are
remaining references to those namespaces in code, the associated storage will
still be reachable, even though the associated state is no longer being updated.
Make sure you clean up any references to destroyed namespaces yourself.
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>